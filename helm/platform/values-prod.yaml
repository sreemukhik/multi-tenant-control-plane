global:
  environment: production
  baseDomain: "urumistores.com"

platform:
  api:
    image:
      repository: ghcr.io/yourusername/urumi-platform-api
      tag: "v1.0.0"
      pullPolicy: IfNotPresent
    replicas: 2
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
    env:
      DATABASE_URL: "postgresql+asyncpg://urumi:REPLACE_WITH_SECURE_PASSWORD@platform-db:5432/urumi"
      MAX_STORES_PER_USER: "10"
      PROVISIONING_TIMEOUT_MINUTES: "20"
  
  dashboard:
    replicas: 2
    resources:
      requests:
        cpu: 50m
        memory: 64Mi
      limits:
        cpu: 200m
        memory: 128Mi
  
  postgres:
    storage:
      size: 10Gi
      storageClass: "local-path" # Change to "longhorn" or cloud-sc for production
    credentials:
      password: "REPLACE_WITH_SECURE_PASSWORD"

ingress:
  enabled: true
  className: traefik
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    traefik.ingress.kubernetes.io/router.entrypoints: websecure
    traefik.ingress.kubernetes.io/router.tls: "true"
  hosts:
    - host: dashboard.urumistores.com
      paths:
        - path: /
          service: urumi-dashboard
    - host: api.urumistores.com
      paths:
        - path: /
          service: urumi-platform-api
  tls:
    - secretName: urumi-platform-tls
      hosts:
        - dashboard.urumistores.com
        - api.urumistores.com

hpa:
  enabled: true
  api:
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70
  dashboard:
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 80
