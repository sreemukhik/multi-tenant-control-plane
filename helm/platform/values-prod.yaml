global:
  environment: production
  baseDomain: "urumistores.com"

platform:
  api:
    image:
      repository: ghcr.io/yourusername/urumi-platform-api
      tag: "v1.0.0"
      pullPolicy: IfNotPresent
    replicas: 2
    resources:
      requests:
        cpu: 250m
        memory: 512Mi
      limits:
        cpu: 1000m
        memory: 1Gi
    env:
      DATABASE_URL: "postgresql://urumi:${DB_PASSWORD}@platform-db:5432/urumi"
      MAX_STORES_PER_USER: "10"
      PROVISIONING_TIMEOUT_MINUTES: "15"
  
  dashboard:
    replicas: 2
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 500m
        memory: 256Mi
  
  postgres:
    storage:
      size: 20Gi
      storageClass: ""
    credentials:
      password: ${DB_PASSWORD}

ingress:
  enabled: true
  className: traefik
  tls:
    enabled: true
    certManager: true
    issuer: letsencrypt-prod
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    traefik.ingress.kubernetes.io/router.entrypoints: websecure
  hosts:
    - host: dashboard.urumistores.com
      paths:
        - path: /
          service: urumi-dashboard
    - host: api.urumistores.com
      paths:
        - path: /
          service: urumi-api
